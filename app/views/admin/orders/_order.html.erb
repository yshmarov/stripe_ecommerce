<article id="<%= dom_id order %>" class="card bg-base-100 shadow-sm">
  <div class="card-body">
    <h2 class="card-title">
      <%= link_to_unless_current t("orders.show.title", name: order.to_param.upcase), order, class: "hover:text-primary" %>
    </h2>

    <div class="text-sm text-base-content/70">
      <%= render partial: "orders/checkout_details", locals: { order: } %>
    </div>

    <div class="flex flex-wrap gap-2">
      <%= render partial: "orders/status", locals: { order: order } %>
    </div>

    <% if action_name != "show" %>
      <div class="text-sm">
        <%= link_to [:admin, order], class: "link link-primary" do %>
          <strong><%= t("orders.order.items") %></strong>
          <span class="badge badge-sm"><%= order.order_items_quantity %></span>
        <% end %>
      </div>
    <% end %>

    <% if order.next_status.present? %>
      <div class="card-actions justify-end">
        <%= button_to admin_order_path(order.id), 
            method: :put, 
            class: "btn btn-primary btn-sm" do %>
          <%= t("activerecord.attributes.order.statuses.#{order.status}") %>
          <i class="fa-solid fa-arrow-right mx-2"></i>
          <%= t("activerecord.attributes.order.statuses.#{order.next_status}") %>
        <% end %>
      </div>
    <% end %>
  </div>
</article>
